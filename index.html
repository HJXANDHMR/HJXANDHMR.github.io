
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Android学习</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="何健雄">
    

    
    <meta name="description" content="Android 开发,java学习,ListView,Android Studio,Hexo,MarkDown.">
<meta property="og:type" content="website">
<meta property="og:title" content="Android学习">
<meta property="og:url" content="http://HJXANDHMR.github.io/index.html">
<meta property="og:site_name" content="Android学习">
<meta property="og:description" content="Android 开发,java学习,ListView,Android Studio,Hexo,MarkDown.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android学习">
<meta name="twitter:description" content="Android 开发,java学习,ListView,Android Studio,Hexo,MarkDown.">

    
    <link rel="alternative" href="/atom.xml" title="Android学习" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Android学习" title="Android学习"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Android学习">Android学习</a></h1>
				<h2 class="blog-motto">学有所思，思有所悟，悟有所行。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">简介</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:HJXANDHMR.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/30/DesignPattern-AbstractFactory/" title="设计模式—抽象工厂模式" itemprop="url">设计模式—抽象工厂模式</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-30T10:23:32.493Z" itemprop="datePublished"> 发表于 2016-05-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>前面我们学习了了<a href="http://hjxandhmr.github.io/2016/05/27/DesignPattern-SimpleFactory/">简单工厂模式</a>和<a href="http://hjxandhmr.github.io/2016/05/28/DesigPattern-FactoryMethod/">工厂方法模式</a>，今天我们来学习设计模式中最后的一种工厂模式——抽象工厂模式(Abstract Factory Pattern)，它属于类创建型模式。</p>
<p>抽象工厂模式其实是工厂方法模式的一种扩展，应用抽象工厂模式可以创建一系列的产品（产品族），而不是像工厂方法模式中的只能创建一种产品。</p>
<h2 id="模式定义"><a href="#模式定义" class="headerlink" title="模式定义"></a>模式定义</h2><p>为创建一组相关或相互依赖的对象提供一个接口，而且无需指定他们的具体类。</p>
<h2 id="模式结构"><a href="#模式结构" class="headerlink" title="模式结构"></a>模式结构</h2><p>抽象工厂模式包含如下角色：</p>
<p><strong>AbstractFactory：</strong> 抽象工厂<br><strong>ConcreteFactory：</strong> 具体工厂<br><strong>AbstractProduct：</strong> 抽象产品<br><strong>Product：</strong> 具体产品</p>
<h2 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h2><p><img src="/images/DesignPattern/AbstractFactoryUML.png" alt=""></p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="AbstractFactory-java"><a href="#AbstractFactory-java" class="headerlink" title="AbstractFactory.java"></a>AbstractFactory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface AbstractFactory &#123;</span><br><span class="line"></span><br><span class="line">    Cpu createCpu();</span><br><span class="line"></span><br><span class="line">    Mainboard createMainboard();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AmdFactory-java"><a href="#AmdFactory-java" class="headerlink" title="AmdFactory.java"></a>AmdFactory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class AmdFactory implements AbstractFactory &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Cpu <span class="function"><span class="title">createCpu</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> new AmdCpu();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Mainboard <span class="function"><span class="title">createMainboard</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> new AmdMainboard();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="IntelFactory-java"><a href="#IntelFactory-java" class="headerlink" title="IntelFactory.java"></a>IntelFactory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class IntelFactory implements AbstractFactory &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Cpu <span class="function"><span class="title">createCpu</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> new IntelCpu();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Mainboard <span class="function"><span class="title">createMainboard</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> new IntelMainboard();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Mainboard-java"><a href="#Mainboard-java" class="headerlink" title="Mainboard.java"></a>Mainboard.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface Mainboard &#123;</span><br><span class="line"></span><br><span class="line">    void installCpu();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="IntelMainboard-java"><a href="#IntelMainboard-java" class="headerlink" title="IntelMainboard.java"></a>IntelMainboard.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class IntelMainboard implements Mainboard &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">IntelMainboard</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"Create IntelMainboard"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="function"><span class="title">installCpu</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"IntelMainboard installCpu"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AmdMainboard-java"><a href="#AmdMainboard-java" class="headerlink" title="AmdMainboard.java"></a>AmdMainboard.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class AmdMainboard implements Mainboard &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">AmdMainboard</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"Create AmdMainboard"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="function"><span class="title">installCpu</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">" AmdMainboard installCpu"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ComputerEngineer-java"><a href="#ComputerEngineer-java" class="headerlink" title="ComputerEngineer.java"></a>ComputerEngineer.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class ComputerEngineer  &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 定义组装机需要的CPU</span><br><span class="line">     */</span><br><span class="line">    private Cpu cpu = null;</span><br><span class="line">    /**</span><br><span class="line">     * 定义组装机需要的主板</span><br><span class="line">     */</span><br><span class="line">    private Mainboard mainboard = null;</span><br><span class="line"></span><br><span class="line">    public void makeComputer(AbstractFactory af)&#123;</span><br><span class="line">        /**</span><br><span class="line">         * 组装机器的基本步骤</span><br><span class="line">         */</span><br><span class="line">        //1:首先准备好装机所需要的配件</span><br><span class="line">        prepareHardwares(af);</span><br><span class="line">        //2:组装机器</span><br><span class="line">        //3:测试机器</span><br><span class="line">        //4：交付客户</span><br><span class="line">    &#125;</span><br><span class="line">    private void prepareHardwares(AbstractFactory af)&#123;</span><br><span class="line">        //这里要去准备CPU和主板的具体实现，为了示例简单，这里只准备这两个</span><br><span class="line">        //可是，装机工程师并不知道如何去创建，怎么办呢？</span><br><span class="line"></span><br><span class="line">        //直接找相应的工厂获取</span><br><span class="line">        cpu = af.createCpu();</span><br><span class="line">        mainboard = af.createMainboard();</span><br><span class="line"></span><br><span class="line">        //测试配件是否好用</span><br><span class="line">        cpu.calculate();</span><br><span class="line">        mainboard.installCpu();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class MyClass &#123;</span><br><span class="line">    public static void main(String[]args)&#123;</span><br><span class="line">        //创建装机工程师对象</span><br><span class="line">        ComputerEngineer cf = new ComputerEngineer();</span><br><span class="line">        //客户选择并创建需要使用的产品对象</span><br><span class="line">        AbstractFactory af = new IntelFactory();</span><br><span class="line">        //告诉装机工程师自己选择的产品，让装机工程师组装电脑</span><br><span class="line">        cf.makeComputer(af);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="模式分析"><a href="#模式分析" class="headerlink" title="模式分析"></a>模式分析</h2><p>每一个模式都是针对一定问题的解决方案，工厂方法模式针对的是一个产品等级结构，而抽象工厂模式针对的是多个产品等级结构。有多少个产品等级结构，就会在工厂角色中发现多少个工厂方法。每一个产品等级结构中有多少个具体的产品，就有多少个产品族，也就会在工厂等级结构中发现多少个具体工厂。</p>
<h2 id="抽象工厂模式的优点"><a href="#抽象工厂模式的优点" class="headerlink" title="抽象工厂模式的优点"></a>抽象工厂模式的优点</h2><ul>
<li><p>抽象工厂模式隔离了具体类的生成，使得客户并不需要知道什么被创建。由于这种隔离，更换一个具体工厂就变得相对容易。所有的具体工厂都实现了抽象工厂中定义的那些公共接口，因此只需改变具体工厂的实例，就可以在某种程度上改变整个软件系统的行为。另外，应用抽象工厂模式可以实现高内聚低耦合的设计目的，因此抽象工厂模式得到了广泛的应用。</p>
</li>
<li><p>当一个产品族中的多个对象被设计成一起工作时，它能够保证客户端始终只使用同一个产品族中的对象。这对一些需要根据当前环境来决定其行为的软件系统来说，是一种非常实用的设计模式。</p>
</li>
<li><p>增加新的具体工厂和产品族很方便，无须修改已有系统，符合“开闭原则”。</p>
</li>
</ul>
<h2 id="抽象工厂模式的缺点"><a href="#抽象工厂模式的缺点" class="headerlink" title="抽象工厂模式的缺点"></a>抽象工厂模式的缺点</h2><ul>
<li><p>在添加新的产品对象时，难以扩展抽象工厂来生产新种类的产品，这是因为在抽象工厂角色中规定了所有可能被创建的产品集合，要支持新种类的产品就意味着要对该接口进行扩展，而这将涉及到对抽象工厂角色及其所有子类的修改，显然会带来较大的不便。</p>
</li>
<li><p>开闭原则的倾斜性（增加新的工厂和产品族容易，增加新的产品等级结构麻烦）。</p>
</li>
</ul>
<p>到现在为止，设计模式中的所有工厂类的模式就都已经学习完了。</p>
<p>参考<br>    <a href="http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/abstract_factory.html" target="_blank" rel="external">http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/abstract_factory.html</a><br>    <a href="http://www.cnblogs.com/ytaozhao/p/3392149.html" target="_blank" rel="external">http://www.cnblogs.com/ytaozhao/p/3392149.html</a></p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Design-Pattern/">Design Pattern</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Design-Pattern/">Design Pattern</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/30/DesignPattern-AbstractFactory/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/30/DesignPattern-AbstractFactory/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/28/DesigPattern-FactoryMethod/" title="设计模式—工厂方法模式" itemprop="url">设计模式—工厂方法模式</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-28T01:50:14.762Z" itemprop="datePublished"> 发表于 2016-05-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>前面我们学习了<a href="http://hjxandhmr.github.io/2016/05/27/DesignPattern-SimpleFactory/">简单工厂模式</a>，今天我们来学习工厂方法模式（Factory Method）,工厂方法模式(Factory Method Pattern)又称为工厂模式，也叫多态工厂(Polymorphic Factory)模式，它属于类创建型模式。</p>
<h2 id="模式定义"><a href="#模式定义" class="headerlink" title="模式定义"></a>模式定义</h2><p>在工厂方法模式中，工厂父类负责定义创建产品对象的公共接口，而工厂子类则负责生成具体的产品对象，这样做的目的是将产品类的实例化操作延迟到工厂子类中完成，即通过工厂子类来确定究竟应该实例化哪一个具体产品类。</p>
<h2 id="模式结构"><a href="#模式结构" class="headerlink" title="模式结构"></a>模式结构</h2><p>工厂方法模式包含如下角色：</p>
<p><strong>Product：</strong> 抽象产品<br><strong>ConcreteProduct：</strong> 具体产品<br><strong>Factory：</strong> 抽象工厂<br><strong>ConcreteFactory：</strong> 具体工厂</p>
<h2 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h2><p><img src="/images/DesignPattern/FactoryMethodUML.png" alt=""></p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="Factory-java"><a href="#Factory-java" class="headerlink" title="Factory.java"></a>Factory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface Factory &#123;</span><br><span class="line">    Product factoryMethod();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ConcreteFactory-java"><a href="#ConcreteFactory-java" class="headerlink" title="ConcreteFactory.java"></a>ConcreteFactory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class ConcreteFactory implements Factory &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Product <span class="function"><span class="title">factoryMethod</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> new ConcreteProduct();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Product-java"><a href="#Product-java" class="headerlink" title="Product.java"></a>Product.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface Product &#123;</span><br><span class="line">    void use();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ConcreteProduct-java"><a href="#ConcreteProduct-java" class="headerlink" title="ConcreteProduct.java"></a>ConcreteProduct.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class ConcreteProduct implements Product &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">ConcreteProduct</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteProduct Create"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="function"><span class="title">use</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteProduct use"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Factory factory = new ConcreteFactory();</span><br><span class="line">        Product product = factory.factoryMethod();</span><br><span class="line">        product.use();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="模式分析"><a href="#模式分析" class="headerlink" title="模式分析"></a>模式分析</h2><p>工厂方法模式是简单工厂模式的进一步抽象和推广。由于使用了面向对象的多态性，工厂方法模式保持了简单工厂模式的优点，而且克服了它的缺点。在工厂方法模式中，核心的工厂类不再负责所有产品的创建，而是将具体创建工作交给子类去做。这个核心类仅仅负责给出具体工厂必须实现的接口，而不负责哪一个产品类被实例化这种细节，这使得工厂方法模式可以允许系统在不修改工厂角色的情况下引进新产品。</p>
<h2 id="工厂方法模式的优点"><a href="#工厂方法模式的优点" class="headerlink" title="工厂方法模式的优点"></a>工厂方法模式的优点</h2><ul>
<li><p>在工厂方法模式中，工厂方法用来创建客户所需要的产品，同时还向客户隐藏了哪种具体产品类将被实例化这一细节，用户只需要关心所需产品对应的工厂，无须关心创建细节，甚至无须知道具体产品类的类名。</p>
</li>
<li><p>基于工厂角色和产品角色的多态性设计是工厂方法模式的关键。它能够使工厂可以自主确定创建何种产品对象，而如何创建这个对象的细节则完全封装在具体工厂内部。工厂方法模式之所以又被称为多态工厂模式，是因为所有的具体工厂类都具有同一抽象父类。</p>
</li>
</ul>
<p>+使用工厂方法模式的另一个优点是在系统中加入新产品时，无须修改抽象工厂和抽象产品提供的接口，无须修改客户端，也无须修改其他的具体工厂和具体产品，而只要添加一个具体工厂和具体产品就可以了。这样，系统的可扩展性也就变得非常好，完全符合“开闭原则”。</p>
<h2 id="工厂方法模式的缺点"><a href="#工厂方法模式的缺点" class="headerlink" title="工厂方法模式的缺点"></a>工厂方法模式的缺点</h2><ul>
<li><p>在添加新产品时，需要编写新的具体产品类，而且还要提供与之对应的具体工厂类，系统中类的个数将成对增加，在一定程度上增加了系统的复杂度，有更多的类需要编译和运行，会给系统带来一些额外的开销。</p>
</li>
<li><p>由于考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度，且在实现时可能需要用到DOM、反射等技术，增加了系统的实现难度。</p>
</li>
</ul>
<p>最后，工厂方法模式还满足了迪米特原则，依赖倒转原则，里氏替换原则，是典型的解耦框架。</p>
<p>参考<br>    <a href="http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/factory_method.html" target="_blank" rel="external">http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/factory_method.html</a><br>    <a href="http://www.cnblogs.com/ytaozhao/p/3389883.html" target="_blank" rel="external">http://www.cnblogs.com/ytaozhao/p/3389883.html</a></p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Design-Pattern/">Design Pattern</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Design-Pattern/">Design Pattern</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/28/DesigPattern-FactoryMethod/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/28/DesigPattern-FactoryMethod/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/27/DesignPattern-SimpleFactory/" title="设计模式—简单工厂模式" itemprop="url">设计模式—简单工厂模式</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-27T12:11:45.975Z" itemprop="datePublished"> 发表于 2016-05-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>简单工厂模式在实际的开发应用比较多，今天我们来学习下设计模式中的简单工厂模式。<br>从设计模式的类型上来说，简单工厂模式是属于创建型模式，又叫做静态工厂方法（Static Factory Method）模式。</p>
<h2 id="模式的定义"><a href="#模式的定义" class="headerlink" title="模式的定义"></a>模式的定义</h2><p>简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。</p>
<h2 id="模式的结构"><a href="#模式的结构" class="headerlink" title="模式的结构"></a>模式的结构</h2><p>简单工厂模式包含如下角色：</p>
<p><strong>Factory:</strong> 工厂角色<br>工厂角色负责实现创建所有实例的内部逻辑</p>
<p><strong>Product:</strong> 抽象产品角色<br>抽象产品角色是所创建的所有对象的父类，负责描述所有实例所共有的公共接口</p>
<p><strong>ConcreteProduct:</strong> 具体产品角色<br>具体产品角色是创建目标，所有创建的对象都充当这个角色的某个具体类的实例。</p>
<h2 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h2><p><img src="/images/DesignPattern/simpleFactoryUML.png" alt=""></p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="Factory-java"><a href="#Factory-java" class="headerlink" title="Factory.java"></a>Factory.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Factory &#123;</span><br><span class="line"></span><br><span class="line">    public static Product createProduct(String s) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (s == <span class="string">"A"</span>) &#123;</span><br><span class="line">            <span class="built_in">return</span> new ConcreteProductA();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s == <span class="string">"B"</span>) &#123;</span><br><span class="line">            <span class="built_in">return</span> new ConcreteProductB();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Product-java"><a href="#Product-java" class="headerlink" title="Product.java"></a>Product.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface Product &#123;</span><br><span class="line"></span><br><span class="line">    void use();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ConcreteProductA-java"><a href="#ConcreteProductA-java" class="headerlink" title="ConcreteProductA.java"></a>ConcreteProductA.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class ConcreteProductA implements Product &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">ConcreteProductA</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"Create ConcreteProductA"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="function"><span class="title">use</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteProductA Use"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ConcreteProductB-java"><a href="#ConcreteProductB-java" class="headerlink" title="ConcreteProductB.java"></a>ConcreteProductB.java</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class ConcreteProductB implements Product &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">ConcreteProductB</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"Create ConcreteProductB"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="function"><span class="title">use</span></span>() &#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteProductB Use"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> public class MyClass &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        Product product = Factory.createProduct(<span class="string">"A"</span>);</span><br><span class="line">        product.use();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其实以上代码可以不给出，我相信大家也可以写的出，根据UML图来写代码是编码的基本能力。</p>
<h2 id="模式分析"><a href="#模式分析" class="headerlink" title="模式分析"></a>模式分析</h2><ul>
<li>将对象的创建和对象本身业务处理分离可以降低系统的耦合度，使得两者修改起来都相对容易</li>
<li>在调用工厂类的工厂方法时，由于工厂方法是静态方法，使用起来很方便，可通过类名直接调用，而且只需要传入一个简单的参数即可</li>
</ul>
<h2 id="简单工厂模式的优点"><a href="#简单工厂模式的优点" class="headerlink" title="简单工厂模式的优点"></a>简单工厂模式的优点</h2><ul>
<li><p>工厂类含有必要的判断逻辑，可以决定在什么时候创建哪一个产品类的实例，客户端可以免除直接创建产品对象的责任，而仅仅“消费”产品；简单工厂模式通过这种做法实现了对责任的分割，它提供了专门的工厂类用于创建对象</p>
</li>
<li><p>客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类所对应的参数即可，对于一些复杂的类名，通过简单工厂模式可以减少使用者的记忆量。</p>
</li>
</ul>
<h2 id="简单工厂模式的缺点"><a href="#简单工厂模式的缺点" class="headerlink" title="简单工厂模式的缺点"></a>简单工厂模式的缺点</h2><ul>
<li>由于工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响</li>
<li>使用简单工厂模式将会增加系统中类的个数，在一定程序上增加了系统的复杂度和理解难度。</li>
</ul>
<p>以上就是简单工厂模式的基本内容了，我们不是为了用设计模式而用设计模式，而应该根据实际情况来使用设计模式。</p>
<p>参考<br>    <a href="http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/simple_factory.html" target="_blank" rel="external">http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/simple_factory.html</a><br>    <a href="http://www.cnblogs.com/ytaozhao/p/3387540.html" target="_blank" rel="external">http://www.cnblogs.com/ytaozhao/p/3387540.html</a></p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Design-Pattern/">Design Pattern</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Design-Pattern/">Design Pattern</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/27/DesignPattern-SimpleFactory/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/27/DesignPattern-SimpleFactory/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/23/Android-Dagger2-DI/" title="Android中使用Dagger2进行依赖注入" itemprop="url">Android中使用Dagger2进行依赖注入</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-23T06:43:51.203Z" itemprop="datePublished"> 发表于 2016-05-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Dagger2是首个使用生成代码实现完整依赖注入的框架，极大减少了使用者的编码负担，本文主要介绍如何使用Dagger2进行依赖注入。</p>
<h2 id="Dagger2简单介绍"><a href="#Dagger2简单介绍" class="headerlink" title="Dagger2简单介绍"></a>Dagger2简单介绍</h2><p>Dagger2，起源于Square的Dagger，是一个完全在编译期间进行的依赖注入框架，完全去除了反射。Dagger2是通过依赖注入让你少写很多公式化代码，更容易测试，降低耦合，创建可复用可互换的模块。</p>
<h2 id="Dagger2实例"><a href="#Dagger2实例" class="headerlink" title="Dagger2实例"></a>Dagger2实例</h2><h3 id="Dagger2环境搭建"><a href="#Dagger2环境搭建" class="headerlink" title="Dagger2环境搭建"></a>Dagger2环境搭建</h3><p>project的build.gradle添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"> dependencies &#123;</span><br><span class="line">     ... // 其他classpath</span><br><span class="line">     classpath <span class="string">'com.neenbedankt.gradle.plugins:android-apt:1.8'</span> //添加apt命令</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">module的build.gradle添加</span><br><span class="line"></span><br><span class="line">``` bash</span><br><span class="line">apply plugin: <span class="string">'com.neenbedankt.android-apt'</span>//添加apt命令</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    apt <span class="string">'com.google.dagger:dagger-compiler:2.0.2'</span> //指定注解处理器</span><br><span class="line">    compile <span class="string">'com.google.dagger:dagger:2.0.2'</span>  //dagger公用api</span><br><span class="line">    provided <span class="string">'org.glassfish:javax.annotation:10.0-b28'</span>  //添加android缺失的部分javax注解</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="comment">### 代码实现</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Usermodele 是一些基本消息</span><br><span class="line"></span><br><span class="line">``` bash</span><br><span class="line">public class UserModel &#123;</span><br><span class="line"></span><br><span class="line">    private String id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String gender;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">UserModel</span></span>() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public UserModel(String id, String name, String gender) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getId</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Id(String id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getName</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Name(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getGender</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Gender(String gender) &#123;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Module其实就是一个依赖的制造工厂。我们只需要为其添加制造依赖的方法即可。</p>
<pre><code class="bash">@Module
public class ActivityModule {

    @Provides
    public UserModel <span class="function"><span class="title">provideUserModel</span></span>() {
        <span class="built_in">return</span> new UserModel(<span class="string">"1"</span>, <span class="string">"hjx"</span>, <span class="string">"man"</span>);
    }
}
</code></pre>
<p>注解@Module注明本类属于Module ，注解@Provides注明该方法是用来提供依赖对象的特殊方法 。<br>一个完整的Module必须拥有@Module与@Provides注解 。</p>
<p>Component就是一个将Module生成的实例注入Container中的注入器</p>
<pre><code class="bash">@Component(modules = ActivityModule.class)
public interface ActivityComponent {
    void inject(MainActivity mainActivity);
}
</code></pre>
<p>@Component使用modules指向使用的Module的集合。 所有的Component都必须以接口形式定义。Dagger2框架将自动生成Component的实现类，对应的类名是Dagger×××××，这个例子中对应的实现类是DaggerActivityComponent,添加注入方法,一般使用inject做为方法名，方法参数为对应的Container。</p>
<p>Container就是可以被注入依赖关系的容器,这里的容器为Activity。具体实现如下</p>
<pre><code class="bash">public class MainActivity extends AppCompatActivity {

    private ActivityComponent mActivityComponent;

    @Inject
    UserModel mUserModel;   //不能为private

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        <span class="built_in">set</span>ContentView(R.layout.activity_main);

        mActivityComponent = DaggerActivityComponent.builder().
                activityModule(new ActivityModule()).build();
        mActivityComponent.inject(this);
        ((TextView) findViewById(R.id.textView)).
                <span class="built_in">set</span>Text(<span class="string">"ID:"</span> + mUserModel.getId() + <span class="string">" Name: "</span> + mUserModel.getName()
                 + <span class="string">"  Gender: "</span> + mUserModel.getGender());
    }
}
</code></pre>
<p>Container中@Inject标记需要被注入的对象，mActivityComponent.inject(this)表示将调用Component的实现类将Module的生成的对象注入到mUserModel中。</p>
<p>到这为止，怎样使用Dagger2进行依赖注入的小demo已经完成了，代码已经上传到<a href="https://github.com/HJXANDHMR/AndroidDagger2" target="_blank" rel="external">Github</a>。</p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Android/">Android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/23/Android-Dagger2-DI/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/23/Android-Dagger2-DI/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/16/AndroidStudio-Source-Error/" title="Android Studio查看源代码报错" itemprop="url">Android Studio查看源代码报错</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-16T06:58:19.028Z" itemprop="datePublished"> 发表于 2016-05-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>我们经常用Android Studio 查看Android的源代码，今天我们就来学习查看源代码的正确姿势。</p>
<h2 id="Android-Studio查看源代码"><a href="#Android-Studio查看源代码" class="headerlink" title="Android Studio查看源代码"></a>Android Studio查看源代码</h2><p>我们用Android Studio查看源代码会遇到下面的问题。<br><img src="/images/AndroidStudio/AndroidStudio-readSource.png" alt=""><br>这是由于Android SDK自带的Source源码包很小，并没有包括所有的Android Framework的源码，仅仅提供给应用开发参考用，一些比较少用的系统类的源码并没有给出。<br>“RuntimeException(“Stub!”)”表示实际运行时的逻辑会由Android ROM里面相同的类代替执行。</p>
<p>此外，在IDE里看源码的时候，有时候一些方法或者类会出现报红（找不到）的情况，如下。</p>
<p><img src="/images/AndroidStudio/AndroidStudio-source-error.png" alt=""></p>
<p>这是因为这些方法或者类是被Android SDK隐藏的，出于安全或者某些原因，这些API不能暴露给应用层的开发者，所以编译完成的android.jar包里会把这些API隐藏掉，而我们的Android项目是依赖android.jar的，查看源码的时候，IDE会自动去android.jar找对应的API，自然会找不到。当然，这些API在ROM中是实际存在的，有些开发者发现了一些可以修改系统行为的隐藏API，在应用层通过反射的方式强行调用这些API执行系统功能，这种手段也是一种HACK。</p>
<h2 id="Source-Insight"><a href="#Source-Insight" class="headerlink" title="Source Insight"></a>Source Insight</h2><p>基于以上两点Android Studio 不是很好的研究Android源码的工具，想要深入的研究Android源码，大家可以用 <a href="http://www.sourceinsight.com/down35.html" target="_blank" rel="external">Source Insight</a> 来研究Android源码。</p>
<p>我们来看看在 ‘Source Insight’ 下查看源码的效果。</p>
<p><img src="/images/AndroidStudio/SourceInsight-readSource.png" alt=""></p>
<p>从图片可以看出RuntimeException(“Stub!”) 已经被具体的代码替代了。</p>
<p><img src="/images/AndroidStudio/SourceInsight-normal.png" alt=""></p>
<p>也没有出现一些方法或者类会出现报红（找不到）的情况。</p>
<p>大家可以好好的研究Android 源码了。</p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/AndroidStudio/">AndroidStudio</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/AndroidStudio/">AndroidStudio</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/16/AndroidStudio-Source-Error/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/16/AndroidStudio-Source-Error/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/10/Android-RobolectricDemo/" title="Android Robolectric 实例" itemprop="url">Android Robolectric 实例</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-10T07:52:27.399Z" itemprop="datePublished"> 发表于 2016-05-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Android 开发过程中会到 <em>Junit</em>  来进行单元测试,那么Android中的界面应该用什么来测？<br>今天我们的主角就是 <em>Robolectric</em> ，Robolectric 可以用来在Android 上进行界面测试，下面我们就来学习下 Robolectric怎么使用。</p>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><h3 id="Gradle-配置"><a href="#Gradle-配置" class="headerlink" title="Gradle 配置"></a>Gradle 配置</h3><p>在Android Studio 下使用Robolectric 非常简单只需要一行代码就可以了。<br>在build.gradle 文件下配置如下依赖关系</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span>Compile <span class="string">"org.robolectric:robolectric:3.0"</span></span><br></pre></td></tr></table></figure>
<h3 id="通过注解配置测试类"><a href="#通过注解配置测试类" class="headerlink" title="通过注解配置测试类"></a>通过注解配置测试类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(RobolectricGradleTestRunner.class)</span><br><span class="line">@Config(constants = BuildConfig.class, sdk = 21)</span><br><span class="line">public class MainActivityUITest &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>完成以上两步就把 Robolectric的环境搭建好了，下面我们来学习下怎样测界面。</p>
<h2 id="测试实例"><a href="#测试实例" class="headerlink" title="测试实例"></a>测试实例</h2><h3 id="源程序代码"><a href="#源程序代码" class="headerlink" title="源程序代码"></a>源程序代码</h3><p>MainActivity.java 代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends Activity &#123;</span><br><span class="line"></span><br><span class="line">    Button button;</span><br><span class="line">    TextView textView;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        <span class="built_in">set</span>ContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        button = (Button) findViewById(R.id.button);</span><br><span class="line">        textView = (TextView) findViewById(R.id.textView);</span><br><span class="line"></span><br><span class="line">        button.setOnClickListener(new View.<span class="function"><span class="title">OnClickListener</span></span>() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                textView.setText(<span class="string">"Text change"</span>);</span><br><span class="line">                startActivity(new Intent(MainActivity.this, NextActivity.class));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>NextActivity.java 代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class NextActivity extends Activity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        <span class="built_in">set</span>ContentView(R.layout.activity_next_avtivity);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h3><p>MainActivityUITest.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@RunWith(RobolectricGradleTestRunner.class)</span><br><span class="line">@Config(constants = BuildConfig.class, sdk = 21)</span><br><span class="line">public class MainActivityUITest &#123;</span><br><span class="line"></span><br><span class="line">    private Activity activity;</span><br><span class="line"></span><br><span class="line">    @Before</span><br><span class="line">    public void <span class="function"><span class="title">setup</span></span>() &#123;</span><br><span class="line">        activity = Robolectric.buildActivity(MainActivity.class).create().get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void <span class="function"><span class="title">clickButton_shouldTextViewChange</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">        Button button = (Button) activity.findViewById(R.id.button);</span><br><span class="line">        TextView textView = (TextView) activity.findViewById(R.id.textView);</span><br><span class="line"></span><br><span class="line">        String resultsText = textView.getText().toString();</span><br><span class="line">        assertThat(resultsText, equalTo(<span class="string">"Hello World!"</span>));</span><br><span class="line">        button.performClick();</span><br><span class="line">        resultsText = textView.getText().toString();</span><br><span class="line">        assertThat(resultsText, equalTo(<span class="string">"Text change"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void <span class="function"><span class="title">clickButton_shouldStartNextActivity</span></span>() &#123;</span><br><span class="line">        activity.findViewById(R.id.button).performClick();</span><br><span class="line">        Intent expectedIntent = new Intent(activity, NextActivity.class);</span><br><span class="line">        Intent actualIntent = ShadowApplication.getInstance().getNextStartedActivity();</span><br><span class="line">        assertEquals(expectedIntent, actualIntent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上就是Robolectric 框架的基本使用，完整代码我已经上传到<a href="https://github.com/HJXANDHMR/AndroidUiTestRobolectric" target="_blank" rel="external">Github</a>上了,想要更深入的学习以上就是Robolectric，可以去<a href="http://robolectric.org/" target="_blank" rel="external">官网</a>学习。</p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Robolectric/">Robolectric</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/10/Android-RobolectricDemo/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/10/Android-RobolectricDemo/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/06/Linux-DirectoryProcessingCommand/" title="Linux文件目录处理命令" itemprop="url">Linux文件目录处理命令</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-06T04:59:53.715Z" itemprop="datePublished"> 发表于 2016-05-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>最近在学习Linux，在Linux下开发Android真是太爽啦，感兴趣的朋友也可以去试试，我是在虚拟机下装的Ubuntu 15.10，这个版本比较好用。今天我们就来学习下Linux的命令。</p>
<h2 id="目录操作命令"><a href="#目录操作命令" class="headerlink" title="目录操作命令"></a>目录操作命令</h2><h3 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir 目录名  如  mkdir hjx</span><br></pre></td></tr></table></figure>
<h3 id="创建子目录"><a href="#创建子目录" class="headerlink" title="创建子目录"></a>创建子目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p  目录名/目录   如 mkdir -p hjx/hjx</span><br></pre></td></tr></table></figure>
<h3 id="进入文件目录"><a href="#进入文件目录" class="headerlink" title="进入文件目录"></a>进入文件目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> 目录名    如 <span class="built_in">cd</span> hjx</span><br></pre></td></tr></table></figure>
<h3 id="显示当前工作目录目录"><a href="#显示当前工作目录目录" class="headerlink" title="显示当前工作目录目录"></a>显示当前工作目录目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>
<h3 id="显示当前目录的子文件"><a href="#显示当前目录的子文件" class="headerlink" title="显示当前目录的子文件"></a>显示当前目录的子文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>
<h3 id="Linux命令提示键-和目录补全键"><a href="#Linux命令提示键-和目录补全键" class="headerlink" title="Linux命令提示键,和目录补全键"></a>Linux命令提示键,和目录补全键</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">按 <span class="string">"TAB"</span>键可以快速补全文件和命令。 (非常好用，强烈推荐)</span><br></pre></td></tr></table></figure>
<h3 id="删除文件或文件目录"><a href="#删除文件或文件目录" class="headerlink" title="删除文件或文件目录"></a>删除文件或文件目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf  文件或目录名/   如 rm -rf hjx/</span><br></pre></td></tr></table></figure>
<h3 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp  文件名  目录名/  如  cp hjx hjx/</span><br></pre></td></tr></table></figure>
<h3 id="复制文件目录"><a href="#复制文件目录" class="headerlink" title="复制文件目录"></a>复制文件目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp  -r 目录名  目录名/  如  cp hjx hjx/</span><br></pre></td></tr></table></figure>
<h3 id="复制文件及其属性"><a href="#复制文件及其属性" class="headerlink" title="复制文件及其属性"></a>复制文件及其属性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp <span class="_">-a</span> 文件名  目录名/   如 cp <span class="_">-a</span>  hjx hjx/</span><br></pre></td></tr></table></figure>
<h3 id="移动文件"><a href="#移动文件" class="headerlink" title="移动文件"></a>移动文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv  文件  目录/   如 mv hjx hjx/</span><br></pre></td></tr></table></figure>
<h3 id="改文件名"><a href="#改文件名" class="headerlink" title="改文件名"></a>改文件名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv 原文件名 改名后文件名  如 mv hjx hjx1</span><br></pre></td></tr></table></figure>
<h2 id="Linux目录"><a href="#Linux目录" class="headerlink" title="Linux目录"></a>Linux目录</h2><p>Linux下默认有很多目录，我们来简单的学习下它。</p>
<p>/ 根目录<br>/bin 存放必要的命令<br>/boot 存放内核以及启动所需的文件等<br>/dev 存放设备文件<br>/etc 存放系统的配置文件<br>/home 用户文件的主目录，用户数据存放在其主目录中<br>/lib 存放必要的运行库<br>/mnt 存放临时的映射文件系统，我们常把软驱和光驱挂装在这里的floppy和cdrom子目录下。<br>/proc 存放存储进程和系统信息<br>/root 超级用户的主目录<br>/sbin 存放系统管理程序<br>/tmp 存放临时文件的目录<br>/usr 包含了一般不需要修改的应用程序，命令程序文件、程序库、手册和其它文档。<br>/var 包含系统产生的经常变化的文件</p>
<p>以上就是对文件目录操作的一些基本命令了。</p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux/">Linux</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/06/Linux-DirectoryProcessingCommand/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/06/Linux-DirectoryProcessingCommand/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/02/Android-NDK/" title="Android Studio 安装NDK" itemprop="url">Android Studio 安装NDK</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-05-02T12:16:55.644Z" itemprop="datePublished"> 发表于 2016-05-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Android 开发中会用到NDK，今天我们来学习下载Android Studio中怎样安装NDK.</p>
<h2 id="下载NDK"><a href="#下载NDK" class="headerlink" title="下载NDK"></a>下载NDK</h2><ol>
<li>打开Android Studio,选中model右键打开 Project Structure,然后点击Download Android NDK。</li>
</ol>
<p><img src="/images/AndroidNDK/Android_NDK.png" alt=""></p>
<ol>
<li><p>一般在谷歌下载很慢，可以复制下载地址，用迅雷下载。</p>
</li>
<li><p>下载完成以后将压缩包复制到SDK 的安装目录下，解压后就文件重命名为 ndk-bundle。</p>
</li>
<li><p>最后重新打开Project Structure，选择Android NDK 的目录。</p>
</li>
</ol>
<p><img src="/images/AndroidNDK/Android_NDK2.png" alt=""></p>
<p>到这为止，Android NDK已经安装完成了，快开始Android NDK 的学习之旅吧。</p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android-NDK/">Android NDK</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Android-NDK/">Android NDK</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/02/Android-NDK/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/02/Android-NDK/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/26/Android-style/" title="Android shape" itemprop="url">Android shape</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-04-26T02:22:17.359Z" itemprop="datePublished"> 发表于 2016-04-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Android开发中我们经常会使用shape我总结了下它们地使用</p>
<h2 id="Android-shape"><a href="#Android-shape" class="headerlink" title="Android shape"></a>Android shape</h2><p>使用shape可以自定义形状，可以定义下面四种类型的形状，通过android:shape属性指定：</p>
<ul>
<li>rectangle: 矩形，默认的形状，可以画出直角矩形、圆角矩形、弧形等</li>
<li>oval: 椭圆形，用得比较多的是画正圆</li>
<li>line: 线形，可以画实线和虚线</li>
<li>ring: 环形，可以画环形进度条</li>
</ul>
<p>gradient代表渐变，可以按照如下的使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;gradient</span><br><span class="line">       android:angle=<span class="string">"0"</span></span><br><span class="line">       android:centerColor=<span class="string">"#ff0f00"</span></span><br><span class="line">       android:endColor=<span class="string">"#ff00ff"</span></span><br><span class="line">       android:startColor=<span class="string">"#00ff00"</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>solid代表实心，可以按照如下的使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;solid android:color=<span class="string">"#F0FFFF"</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>stroke代表描边，可以按照如下的使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;stroke</span><br><span class="line">       android:width=<span class="string">"10dp"</span></span><br><span class="line">       android:color=<span class="string">"#00FFFF"</span></span><br><span class="line">       android:dashGap=<span class="string">"5dp"</span></span><br><span class="line">       android:dashWidth=<span class="string">"5dp"</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>corners代表圆角，可以按照如下的使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;corners android:radius=<span class="string">"100dp"</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>这是完整的shape文件，定义在drawable目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;shape xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    android:shape=<span class="string">"rectangle"</span>&gt;</span><br><span class="line">    &lt;!-- 渐变 --&gt;</span><br><span class="line">    &lt;gradient</span><br><span class="line">        android:angle=<span class="string">"0"</span></span><br><span class="line">        android:centerColor=<span class="string">"#ff0f00"</span></span><br><span class="line">        android:endColor=<span class="string">"#ff00ff"</span></span><br><span class="line">        android:startColor=<span class="string">"#00ff00"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 实心 --&gt;</span><br><span class="line">    &lt;solid android:color=<span class="string">"#F0FFFF"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 描边 --&gt;</span><br><span class="line">    &lt;stroke</span><br><span class="line">        android:width=<span class="string">"10dp"</span></span><br><span class="line">        android:color=<span class="string">"#00FFFF"</span></span><br><span class="line">        android:dashGap=<span class="string">"5dp"</span></span><br><span class="line">        android:dashWidth=<span class="string">"5dp"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 圆角 --&gt;</span><br><span class="line">    &lt;corners android:radius=<span class="string">"100dp"</span> /&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure>
<p>以上都是比较简单的使用shape。</p>
<p>这里推荐一个工具，可以可视化的生成shape，简直是开发神器 <a href="http://angrytools.com/android/button/" target="_blank" rel="external">自动生成shape</a></p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Android/">Android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/26/Android-style/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/04/26/Android-style/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/22/Android-MVPDetailed/" title="Android MVP实例" itemprop="url">Android MVP实例</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="何健雄" target="_blank" itemprop="author">何健雄</a>
		
  <p class="article-time">
    <time datetime="2016-04-22T11:26:04.003Z" itemprop="datePublished"> 发表于 2016-04-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Android-MVP-实例"><a href="#Android-MVP-实例" class="headerlink" title="Android MVP 实例"></a>Android MVP 实例</h2><h3 id="Android-MVP-实例演示"><a href="#Android-MVP-实例演示" class="headerlink" title="Android MVP 实例演示"></a>Android MVP 实例演示</h3><p>效果展示</p>
<p><img src="/images/AndroidMVP/Android_MVP.gif" alt=""></p>
<h2 id="Android-MVP详解"><a href="#Android-MVP详解" class="headerlink" title="Android MVP详解"></a>Android MVP详解</h2><p> MVP 流程图</p>
<p><img src="/images/AndroidMVP/Android_MVP_structure.png" alt=""></p>
<p>说明：<br>步骤1：View引用Presenter<br>步骤2：Presenter调用Model，走Model具体逻辑<br>步骤3：Model逻辑实现，回调Presenter方法<br>步骤4：Presenter回调View</p>
<p>目录图</p>
<p><img src="/images/AndroidMVP/Android_MVP_catalog.png" alt=""></p>
<h3 id="MVP-model"><a href="#MVP-model" class="headerlink" title="MVP model"></a>MVP model</h3><p>IStudentModel.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public interface IStudentModel &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 保存学生信息</span><br><span class="line">     * @param id 学号</span><br><span class="line">     * @param name 姓名</span><br><span class="line">     * @param sex  性别</span><br><span class="line">     */</span><br><span class="line">    void save(int id,String name,String sex);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 读取学生信息</span><br><span class="line">     * @param id 学号</span><br><span class="line">     * @<span class="built_in">return</span></span><br><span class="line">     */</span><br><span class="line">    Student load(int id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> StudentModel.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class StudentModel implements IStudentModel &#123;</span><br><span class="line"></span><br><span class="line">    private int id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String sex;</span><br><span class="line">    private SparseArray&lt;Student&gt; array = new SparseArray&lt;&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save(int id,String name,String sex) &#123;</span><br><span class="line">        Student student = new Student();</span><br><span class="line">        student.setId(id);</span><br><span class="line">        student.setName(name);</span><br><span class="line">        student.setSex(sex);</span><br><span class="line">        array.append(id, student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Student load(int id) &#123;</span><br><span class="line">        Student notFound = new Student();</span><br><span class="line">        notFound.setName(<span class="string">"没有发现"</span>);</span><br><span class="line">        notFound.setSex(<span class="string">"没有发现"</span>);</span><br><span class="line">        Student student=array.get(id, notFound);</span><br><span class="line">        <span class="built_in">return</span> student;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MVP-presenter"><a href="#MVP-presenter" class="headerlink" title="MVP presenter"></a>MVP presenter</h3><p>UserPresenter.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class UserPresenter &#123;</span><br><span class="line">    private IStudentModel iStudentModel;</span><br><span class="line">    private IMainView iMainView;</span><br><span class="line"></span><br><span class="line">    public UserPresenter(IMainView iMainView) &#123;</span><br><span class="line">        this.iMainView = iMainView;</span><br><span class="line">        iStudentModel = new StudentModel();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void save(int id, String name, String sex) &#123;</span><br><span class="line">        iStudentModel.save(id,name,sex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void load(int id) &#123;</span><br><span class="line">        Student student=iStudentModel.load(id);</span><br><span class="line">        iMainView.setName(student.getName());</span><br><span class="line">        iMainView.setSex(student.getSex());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MVP-View"><a href="#MVP-View" class="headerlink" title="MVP View"></a>MVP View</h3><p>IMainView.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public interface IMainView &#123;</span><br><span class="line"></span><br><span class="line">    void <span class="built_in">set</span>Name(String name);</span><br><span class="line"></span><br><span class="line">    void <span class="built_in">set</span>Sex(String sex);</span><br><span class="line"></span><br><span class="line">    int getId();</span><br><span class="line"></span><br><span class="line">    String getName();</span><br><span class="line"></span><br><span class="line">    String getSex();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>MainActivity.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends Activity implements View.OnClickListener, IMainView &#123;</span><br><span class="line"></span><br><span class="line">    private EditText et_id;</span><br><span class="line">    private EditText et_name;</span><br><span class="line">    private EditText et_sex;</span><br><span class="line">    private Button bt_save;</span><br><span class="line">    private Button bt_load;</span><br><span class="line"></span><br><span class="line">    private UserPresenter userPresenter;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        <span class="built_in">set</span>ContentView(R.layout.activity_login);</span><br><span class="line"></span><br><span class="line">        initView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void <span class="function"><span class="title">initView</span></span>() &#123;</span><br><span class="line">        et_id = (EditText) findViewById(R.id.et_id);</span><br><span class="line">        et_name = (EditText) findViewById(R.id.et_name);</span><br><span class="line">        et_sex = (EditText) findViewById(R.id.et_sex);</span><br><span class="line">        bt_save = (Button) findViewById(R.id.bt_save);</span><br><span class="line">        bt_load = (Button) findViewById(R.id.bt_load);</span><br><span class="line"></span><br><span class="line">        bt_save.setOnClickListener(this);</span><br><span class="line">        bt_load.setOnClickListener(this);</span><br><span class="line"></span><br><span class="line">        userPresenter =new UserPresenter(this);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onClick(View v) &#123;</span><br><span class="line"></span><br><span class="line">        switch (v.getId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.bt_save:</span><br><span class="line">                userPresenter.save(getId(),getName(),getSex());</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.bt_load:</span><br><span class="line">                userPresenter.load(getId());</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            default:</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="built_in">set</span>Name(String name) &#123;</span><br><span class="line">        et_name.setText(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void <span class="built_in">set</span>Sex(String sex) &#123;</span><br><span class="line">        et_sex.setText(sex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int <span class="function"><span class="title">getId</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> Integer.parseInt(et_id.getText().toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String <span class="function"><span class="title">getName</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> et_name.getText().toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String <span class="function"><span class="title">getSex</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> et_sex.getText().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bean"><a href="#bean" class="headerlink" title="bean"></a>bean</h3><p>Student.java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class Student &#123;</span><br><span class="line"></span><br><span class="line">    private int id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String sex;</span><br><span class="line"></span><br><span class="line">    public int <span class="function"><span class="title">getId</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Id(int id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getName</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Name(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getSex</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void <span class="built_in">set</span>Sex(String sex) &#123;</span><br><span class="line">        this.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上就是AndroidMVP的一个小demo，以上的源码我已经开源在Github,地址:<a href="https://github.com/HJXANDHMR/AndroidMVP" target="_blank" rel="external">AndroidMVP</a></p>
<p><strong>欢迎大家关注我的微信公众号，我会不定期的分享些Android开发的技巧</strong></p>
<p><img src="/images/weixing.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Android/">Android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/22/Android-MVPDetailed/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/04/22/Android-MVPDetailed/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android-NDK/" title="Android NDK">Android NDK<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/AndroidStudio/" title="AndroidStudio">AndroidStudio<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android工具类/" title="Android工具类">Android工具类<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Design-Pattern/" title="Design Pattern">Design Pattern<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/ListView/" title="ListView">ListView<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/WCF/" title="WCF">WCF<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>3</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Design-Pattern/" title="Design Pattern">Design Pattern<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/AndroidStudio/" title="AndroidStudio">AndroidStudio<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/ListView/" title="ListView">ListView<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/WCF/" title="WCF">WCF<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Robolectric/" title="Robolectric">Robolectric<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Android工具类/" title="Android工具类">Android工具类<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Android-NDK/" title="Android NDK">Android NDK<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
			
		
		</ul>
</div>


  


  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="HJXANDHMR" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://blog.csdn.net/qq_14906597" target="_blank" title="一个面向程序员交流分享的新一代社区">csdn博客</a>
            
          </li>
        
    </ul>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> Hello ,I&#39;m hjx  <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/hjxandhmr" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/HJXANDHMR" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="何健雄">何健雄</a>
		
		
		<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
		</script>
		</br>本站总访问量<span id="busuanzi_value_site_pv"></span>次,本站访客数<span id="busuanzi_value_site_uv"></span>人次,本文总阅读量<span id="busuanzi_value_page_pv"></span>次

		</p>
</div>


</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
